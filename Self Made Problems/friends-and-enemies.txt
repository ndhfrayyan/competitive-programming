In a school in Toronto, there are N students, each represented by a number between 1 and N. As a new teacher, you are given Q pieces of information. Each piece of information includes the type of relationship and two different students.

There are two types of relationships: type 1 signifies that the two students mentioned are friends, while type 2 indicates that the two students hate each other. The students in this school exhibit high solidarity, considering friends of their friends as their own. Consequently, if a student hates someone, their friend will also hate that person.

Your initial task as a new teacher is to divide these students into two groups. In these groups, no two students should harbor hatred towards each other. You believe it would be too easy if the output merely indicated whether it's possible or not.

Instead, you will output the maximum difference in the number of students between the two groups that satisfies the requirements above. If it's not possible to form such groups without any mutual hatred, the output should be -1.
